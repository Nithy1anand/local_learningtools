define ("ltool_forceactivity/forceactivity",["jquery","core/modal_factory","core/str","core/fragment","core/modal_events","core/ajax","core/notification"],function(a,b,c,d,e,f,g){function h(a){i(a)}function i(a){var d=document.querySelector(".ltoolforceactivity-info #ltoolforceactivity-action");if(d){d.addEventListener("click",function(){b.create({title:c.get_string("forceactivity","local_learningtools"),type:b.types.SAVE_CANCEL,body:k(a),large:!0}).then(function(b){b.show();b.getRoot().on(e.hidden,function(){b.destroy()});b.getRoot().on(e.save,function(c){c.preventDefault();j(b,a);b.getRoot().submit()});return b}).catch(g.exception)})}}function j(b,d){var e=document.querySelectorAll("#forceactivity-modalinfo form")[0],h=new URLSearchParams(new FormData(e)).toString();d=JSON.stringify(d);f.call([{methodname:"ltool_forceactivity_forceactivityaction",args:{params:d,formdata:h},done:function done(d){b.hide();if(d){var e=c.get_string("successforceactivityusers","local_learningtools");a.when(e).done(function(a){g.addNotification({message:a,type:"success"})})}}}])}function k(a){return d.loadFragment("ltool_forceactivity","get_forceactivitymodal_form",a.contextid,a)}return{init:function init(a){h(a)}}});
//# sourceMappingURL=forceactivity.min.js.map
