define ("ltool_invite/ltoolsinvite",["jquery","core/modal_factory","core/str","core/fragment","core/modal_events","core/ajax","core/notification"],function(a,b,c,d,e,f,g){function h(a){i(a)}function i(a){var d=document.querySelector(".ltoolinvite-info #ltoolinvite-action");if(d){d.addEventListener("click",function(){b.create({title:a.strinviteusers+l(a),type:b.types.SAVE_CANCEL,body:k(a),large:!0}).then(function(b){b.setSaveButtonText(c.get_string("invitenow","local_learningtools"));b.show();b.getRoot().on(e.hidden,function(){b.destroy()});b.getRoot().on(e.save,function(c){c.preventDefault();j(b,a);b.getRoot().submit()})})})}}function j(b,d){var e=document.querySelectorAll("#invite-users-area form")[0],h=new URLSearchParams(new FormData(e)).toString();console.log(h);d=JSON.stringify(d);M.cfg.wwwroot+"/local/learningtools/ltool/invite/list.php?id="+d.userid;f.call([{methodname:"ltool_invite_inviteusers",args:{params:d,formdata:h},done:function done(){b.hide();var d=c.get_string("successinviteusers","local_learningtools","test");a.when(d).done(function(a){g.addNotification({message:a,type:"success"})})}}])}function k(a){return d.loadFragment("ltool_invite","get_inviteusers_form",a.contextid,a)}function l(){return""}return{init:function init(a){h(a)}}});
//# sourceMappingURL=ltoolsinvite.min.js.map
