{"version":3,"sources":["../src/information.js"],"names":["define","$","ModalFactory","Str","Fragment","ModalEvents","Ajax","notification","learningToolinformationAction","params","showModalinformationtool","informationinfo","document","querySelector","addEventListener","create","title","get_string","type","types","CANCEL","body","getCourseInfoModal","large","then","modal","show","getRoot","on","hidden","destroy","catch","exception","loadFragment","contextid","init"],"mappings":"AAuBCA,OAAM,iCAAC,CAAC,QAAD,CAAW,oBAAX,CAAiC,UAAjC,CAA6C,eAA7C,CAA8D,mBAA9D,CAAmF,WAAnF,CAAgG,mBAAhG,CAAD,CACN,SAASC,CAAT,CAAYC,CAAZ,CAA0BC,CAA1B,CAA+BC,CAA/B,CAAyCC,CAAzC,CAAsDC,CAAtD,CAA4DC,CAA5D,CAA0E,CAMvE,QAASC,CAAAA,CAAT,CAAuCC,CAAvC,CAA+C,CAC3CC,CAAwB,CAACD,CAAD,CAC3B,CAMD,QAASC,CAAAA,CAAT,CAAkCD,CAAlC,CAA0C,CACtC,GAAIE,CAAAA,CAAe,CAAGC,QAAQ,CAACC,aAAT,CAAuB,iDAAvB,CAAtB,CACA,GAAIF,CAAJ,CAAqB,CACjBA,CAAe,CAACG,gBAAhB,CAAiC,OAAjC,CAA0C,UAAW,CAEjDZ,CAAY,CAACa,MAAb,CAAoB,CAChBC,KAAK,CAAEb,CAAG,CAACc,UAAJ,CAAe,YAAf,CAA6B,qBAA7B,CADS,CAEhBC,IAAI,CAAEhB,CAAY,CAACiB,KAAb,CAAmBC,MAFT,CAGhBC,IAAI,CAAEC,CAAkB,CAACb,CAAD,CAHR,CAIhBc,KAAK,GAJW,CAApB,EAKGC,IALH,CAKQ,SAASC,CAAT,CAAgB,CACpBA,CAAK,CAACC,IAAN,GACAD,CAAK,CAACE,OAAN,GAAgBC,EAAhB,CAAmBvB,CAAW,CAACwB,MAA/B,CAAuC,UAAW,CAC9CJ,CAAK,CAACK,OAAN,EACH,CAFD,EAGA,MAAOL,CAAAA,CACV,CAXD,EAWGM,KAXH,CAWSxB,CAAY,CAACyB,SAXtB,CAYH,CAdD,CAeH,CACJ,CAMD,QAASV,CAAAA,CAAT,CAA4Bb,CAA5B,CAAoC,CAChC,MAAOL,CAAAA,CAAQ,CAAC6B,YAAT,CAAsB,mBAAtB,CAA2C,uBAA3C,CAAoExB,CAAM,CAACyB,SAA3E,CAAsFzB,CAAtF,CACV,CAED,MAAO,CACH0B,IAAI,CAAE,cAAS1B,CAAT,CAAiB,CACnBD,CAA6B,CAACC,CAAD,CAChC,CAHE,CAKT,CAjDK,CAAN","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * information ltool define js.\n * @package   ltool_information\n * @category  Classes - autoloading\n * @copyright 2021, bdecent gmbh bdecent.de\n * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\n define(['jquery', 'core/modal_factory', 'core/str', 'core/fragment', 'core/modal_events', 'core/ajax', 'core/notification'],\n function($, ModalFactory, Str, Fragment, ModalEvents, Ajax, notification) {\n\n    /**\n     * Controls information tool action.\n     * @param {object} params\n     */\n    function learningToolinformationAction(params) {\n        showModalinformationtool(params);\n    }\n\n    /**\n     * Display the modal to course info.\n     * @param {object} params\n     */\n    function showModalinformationtool(params) {\n        var informationinfo = document.querySelector(\".ltoolinformation-info #ltoolinformation-action\");\n        if (informationinfo) {\n            informationinfo.addEventListener(\"click\", function() {\n                // Strinformationusers.\n                ModalFactory.create({\n                    title: Str.get_string('courseinfo', 'local_learningtools'),\n                    type: ModalFactory.types.CANCEL,\n                    body: getCourseInfoModal(params),\n                    large: true\n                }).then(function(modal) {\n                    modal.show();\n                    modal.getRoot().on(ModalEvents.hidden, function() {\n                        modal.destroy();\n                    });\n                    return modal;\n                }).catch(notification.exception);\n            });\n        }\n    }\n    /**\n     * Get course information Modal info.\n     * @param {object} params\n     * @return {string} course info html\n     */\n    function getCourseInfoModal(params) {\n        return Fragment.loadFragment('ltool_information', 'get_courseinformation', params.contextid, params);\n    }\n\n    return {\n        init: function(params) {\n            learningToolinformationAction(params);\n        }\n    };\n });"],"file":"information.min.js"}